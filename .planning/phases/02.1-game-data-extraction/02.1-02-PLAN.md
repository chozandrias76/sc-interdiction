---
phase: 02.1-game-data-extraction
plan: 02
type: execute
---

<objective>
Build DataForge exploration CLI to find and understand Wikelo-related records in the extracted Game2.json.

Purpose: Before building the extraction pipeline, we need to understand the DataForge structureâ€”find where Wikelo contracts, items, and requirements live in the data.
Output: A Rust CLI binary (`dataforge-explorer`) that can query, filter, and display DataForge records, plus documentation of discovered Wikelo data locations.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02.1-game-data-extraction/02.1-RESEARCH.md

**Prior plan output:**
@.planning/phases/02.1-game-data-extraction/02.1-01-SUMMARY.md (when it exists)

**Existing patterns:**
@crates/data-viewer/src/main.rs

**Key data:**
- extracted/Game2.json - The DataForge database as JSON (from Plan 01)
- Records have `__rec` (name) and `__type` fields for identification

**What we're looking for:**
- Wikelo contracts (likely "Mission*" or "Contract*" type records)
- Item definitions (EntityClassDefinition or similar)
- Any records containing "wikelo" in name or content
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create dataforge-explorer CLI crate</name>
  <files>crates/dataforge-explorer/Cargo.toml, crates/dataforge-explorer/src/main.rs</files>
  <action>
Create a new CLI crate for exploring DataForge JSON. This is a development/exploration tool, not production code.

**Cargo.toml:**
- Use workspace dependencies (clap, serde, serde_json, eyre)
- Add `indicatif` for progress bars (large file parsing)

**main.rs commands:**
1. `search <pattern>` - Search record names/types for pattern (case-insensitive regex)
2. `types` - List all unique `__type` values with counts
3. `show <record_name>` - Display full JSON for a specific record
4. `dump-types <type_filter>` - Dump all records of a given type to stdout

Accept `--json <path>` arg for DataForge JSON location (default: extracted/Game2.json).

Use streaming JSON parse if possible (serde_json::StreamDeserializer) to handle the large file, or at minimum use BufReader. Display a progress indicator while loading.

Follow existing crates/data-viewer/src/main.rs patterns for CLI structure.
  </action>
  <verify>
```bash
cargo build -p dataforge-explorer
cargo run -p dataforge-explorer -- --help
```
  </verify>
  <done>Crate compiles, --help shows search/types/show/dump-types commands</done>
</task>

<task type="auto">
  <name>Task 2: Explore DataForge to find Wikelo-related records</name>
  <files>.planning/phases/02.1-game-data-extraction/DATAFORGE-FINDINGS.md</files>
  <action>
Use the explorer CLI to find Wikelo-related data:

```bash
# Find Wikelo mentions
cargo run -p dataforge-explorer -- search wikelo
cargo run -p dataforge-explorer -- search "collection.*mission"
cargo run -p dataforge-explorer -- search "mission.*banu"

# List all record types to understand structure
cargo run -p dataforge-explorer -- types | head -50

# Look for contract/mission types
cargo run -p dataforge-explorer -- types | grep -i mission
cargo run -p dataforge-explorer -- types | grep -i contract
cargo run -p dataforge-explorer -- types | grep -i collection

# Once found, examine specific records
cargo run -p dataforge-explorer -- show <found_record_name>
```

Document findings in DATAFORGE-FINDINGS.md:
- Record types containing Wikelo data
- Record structure (key fields for contracts, items, requirements)
- Path to extract for Phase 3 (which types/records to pull)
- Any surprises or gaps vs wiki research

This exploration informs what we need to extract in Plan 03.
  </action>
  <verify>
```bash
# Verify findings doc exists with content
test -f .planning/phases/02.1-game-data-extraction/DATAFORGE-FINDINGS.md && \
  grep -q "wikelo\|Wikelo" .planning/phases/02.1-game-data-extraction/DATAFORGE-FINDINGS.md
```
  </verify>
  <done>DATAFORGE-FINDINGS.md exists documenting record types, structure, and extraction path for Wikelo data</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] crates/dataforge-explorer compiles and runs
- [ ] Can search DataForge records by pattern
- [ ] Can list record types
- [ ] Can show individual records
- [ ] DATAFORGE-FINDINGS.md documents Wikelo data location and structure
</verification>

<success_criteria>
- Working CLI tool for DataForge exploration
- Wikelo-related records identified and documented
- Clear understanding of data structure for Phase 3 extraction
- Exploration tool available for future data discovery needs
</success_criteria>

<output>
After completion, create `.planning/phases/02.1-game-data-extraction/02.1-02-SUMMARY.md`:

# Phase 2.1 Plan 02: DataForge Exploration Summary

**[Substantive one-liner about Wikelo data discovery]**

## Accomplishments

- Created dataforge-explorer CLI
- [Key Wikelo findings]

## Files Created/Modified

- `crates/dataforge-explorer/` - New exploration CLI crate
- `DATAFORGE-FINDINGS.md` - Documented Wikelo data locations

## Decisions Made

[Record type decisions, extraction strategy]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Ready for 02.1-03-PLAN.md: Create extraction pipeline with caching
</output>
